resources:
  repositories:
    - repository: templates
      type: git
      name: DevOps/DevOps

trigger:
- prod


variables: 
  - group: env-variables
extends:
  template: application-pipelines/simple-container-deploy-v2.yml@templates
  parameters:
     azureContainerRegistry: '{"loginServer":"dockerpoc2.azurecr.io", "id" : "/subscriptions/4563b8b2-94cb-4c1e-a18e-29684fbf97ed/resourceGroups/DockerRG/providers/Microsoft.ContainerRegistry/registries/dockerpoc2"}'
     azureSubscription: GdemicheleCloud
     libraryName: "Devops-Nodejs-POC - Dev"
     environment: "francois-test-environment"
     dockerEnvVarOptions: '-e VAR1=$(env-test) -e VAR2="$(env-test2)" -e password-variable'
     sshEndpoint: 'KKSVAIDOCKERPD_SSH'
     containerPort: 8080