<html>

<head>
    <title> Todo app </title>
    <link href="/styles.css" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h2> Simple Todo app for Azure DevOps POC</h2>
        <h3>This is brought to you by the Kruger DevOps Team</h3>
        <p>test with the multiple environment deployment this is a change from 18:13</p>
        
        <form action="/addtask" method="POST">
            <input type="text" name="newtask" placeholder="add new task"> <button> Add Task </button>
            <h2> Added Task </h2>
            <% for( var i=0; i < task.length; i++){ %>
                <li><input type="checkbox" name="check" value="<%= task[i] %>" />
                    <%= task[i] %>
                </li>
            <% } %>

                    <button formaction="/removetask" type="submit"> Remove </button>

                    <h2> Completed task </h2>
                    <% for(var i=0; i < complete.length; i++){ %>
                        <li><input type="checkbox" checked>
                            <%= complete[i] %>
                        </li>
                        <% } %>
        </form>

        <br><br><br>
        <h3>Environment Variables</h3>
        <p>
            Below are all the environment variables which are injected into this application for debugging purposes
            <small>
                <ul>
                    <% for( var i=0; i < env.length; i++){ %>
                        <li>
                            <%= env[i] %> : <span style="color: gray;"><%= process.env[env[i]] %></span>
                        </li>
                    <% } %>
                </ul>
            </small>
        </p>
    </div>
</body>

</html>